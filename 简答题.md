## 简答题

> 10分

1. 请简述以下shell命令作用：
    top、find、df、mv、wc、touch、tar、chmod、sar、strace

   ​

2. 谈谈你对 MVC  的理解

   ​

## 编程


> 请使用 C 或者 PHP 实现，40分（结构：10，算法：10，思路：20）

1. 读取文件 `/tmp/message` 第10个字节至第30个字节内容。


2. 字符串 `$str` 的内容为 `<a href="http://weibo.com">微博</a>`，如何获取其中 URL部分？


3. 不用临时变量怎么实现两个整型变量的交换 swap(a, b) ？


## 基础选择题

> 20分

1. 以下哪种类型是 B/S 构架的正确描述？

   A.  需要安装客户端的软件
   B.  不需要安装就可以使用的软件
   C.  依托浏览器的网络系统
   D.  依托outlook等软件的邮件系统?

2. PHP 是一种什么型的语言？
   A. 编译型 	B. 解释型	C. 两者都是	D. 两者都不是

3. 以下哪个是构成 C 语言程序的基本单位？
   A. 函数	B. 过程 	C. 子程序 	D. 子例程

4. 下列说法错误的是：
   A. C 程序运行步骤是编辑、编译、连接、执行。
   B. C 语言的变量名必须用小写，常量用大写。
   C. C 语言的三种基本结构是顺序、选择、循环。
   D. C 程序一定由函数构成的。

5. 以下代码执行结果为：
   ```php
    <?php 
    $num ="24linux"+6;
    echo $num;
   ```

   A. 30	B. 24linux6 	C. 6 	D. 30linux

6. 以下代码运行结果为？
   ```php
   <?php
   echo '1'.print(2)+3;
   ```

   A. 1	B. 23	C. 511	D. 15

7. 有如下代码片断，下面描述正确的是？
   ```php
   $i = 10;
   while($i == 0){ 
   	$i = $i - 1; 
   }
   ```

   A. while 循环执行 10 次	
   B. 死循环，将一直执行下去	
   C. 循环一次也不执行 	
   D. 循环将执行 1 次 20

8. 以下对PHP命名空间的说法，不对的是：
   A. 访问任意全局类、函数或常量，都可以使用完全限定名称，例如 `\strlen()` 或 `\Exception` 或 `\INI_ALL`。
   B. 关键字 `namespace` 可用来显式访问当前命名空间或子命名空间中的元素，它等价于类中的 `this` 操作符。
   C. 任意合法的PHP代码都可以包含在命名空间中，但只有三种类型的代码受命名空间的影响，它们是：**类，函数**和**常量**。
   D. 常量 `NAMESPACE` 的值是当前命名空间名称的字符串。在全局的，不包括在任何命名空间中的代码，它就是一个空字符串。


1. 关于 JavaScript 的说法，不正确的是：
     A. 语句 "alert(1==true);" 和语句 "alert(2==true);" 的结果都是 true。
     B. JS 的数组其实就是对象，用 `for...in` 语句可以遍历数组的所有属性。
     C. JS 中的对象通过引用来传递，它们永远不会被复制。
     D. JS 中的函数就是对象，所以它们可以像任何其他的值一样被使用。

2. 下列有关数据结构的说法，不正确的是：
   A. 直接选择、二分法、冒泡、基数等排序方法都是稳定的排序方法。
   B. 5000个无序的元素，希望用最快的速度挑选出其中前50个最大的元素，最好选用堆排序。
   C. 栈和队列都只允许在端点处插入和删除元素。
   D. 深度优先遍历是一个递归算法，在遍历的过程中，先访问的点被压入栈底。


## 设计

> 20分

海量日志数据，提取出某日访问百度次数最多的那个IP。



























------------------------ 答案页-------------------------------









## 简答题

> 10分

1. 请简述以下shell命令作用：
     top、find、df、mv、wc、touch、tar、chmod、sar、strace

   > 答案：
   > top（查看当前机器运行情况）、find（查找）、df（文件系统可用空间报告）、mv（移动或改名）、wc（字数统计）、touch（创建文件）、tar（打包）、chmod（修改权限）、sar（收集，报告，保存系统活动信息）、strace(调试工具)

2. 谈谈你对 MVC  的理解

   > 答案：
   > 一，概念解释： 
   >
   > ```
   > 1）最上面的一层，是直接面向最终用户的"视图层"（View）。它是提供给用户的操作界面，是程序的外壳。
   > 2）最底下的一层，是核心的"数据层"（Model），也就是程序需要操作的数据或信息。
   > 3）中间的一层，就是"控制层"（Controller），它负责根据用户从"视图层"输入的指令，选取"数据层"中的数据，然后对其进行相应的操作，产生最终结果。
   > ```
   >
   > 二，实体分析
   > 计算器小程序为例，解释一下MVC模式，虽然它不一定使用这个模式编写。
   > 视图层：外部的那些按钮和最上面的显示条
   > 数据层：需要运算的数字就是
   > 控制层：执行加减乘除的那些内部运算步骤

## 编程

> 40分（结构：10，算法：10，思路：20）


> 请使用 C 或者 PHP 实现

1. 读取文件 `/tmp/message` 第10个字节至第30个字节内容。

   > 答案：
   > C:
   >
   > ```c
   > #include <stdio.h>
   > #include <string.h>
   >
   > int main() {
   > 	FILE *fp = fopen("/tmp/hello", "r");
   > 	char buffer[21];
   > 	fseek(fp, SEEK_SET, 10);
   > 	fread(buffer, 1, 20, fp);
   > 	fclose(fp);
   >
   > 	printf("RESULT: %s", buffer);
   > 	return 0;
   > }
   > ```

2. 字符串 `$str` 的内容为 "<a href="http://weibo.com">微博</a>"，如何获取其中 URL部分？

   > 答案：
   > PHP:
   >
   > ```php
   > preg_match('/href="(.*?)"/', $str, $matches);
   > echo $matches[1];
   > ```

3. 不用临时变量怎么实现两个整型变量的交换 swap(a, b) ？

   > 答案：
   >
   > - 加减法：a = 1, b = 2, a = a+b 得到 3, b = a - b 得到 1, a = a - b 得到 2
   > - 异或：a = 1, b = 2, a = a ^ b 得到 3, b = a ^ b 得到 1, a = a ^ b 得到 2

## 基础选择题

> 20分，10题

1. 以下哪种类型是 B/S 构架的正确描述？(C)

   A.  需要安装客户端的软件
   B.  不需要安装就可以使用的软件
   C.  依托浏览器的网络系统
   D.  依托outlook等软件的邮件系统?

2. PHP 是一种什么型的语言？(C)
   A. 编译型 	B. 解释型	C. 两者都是	D. 两者都不是

3. 以下哪个是构成 C 语言程序的基本单位？(A)
   A. 函数	B. 过程 	C. 子程序 	D. 子例程

4. 下列说法错误的是：（B）
   A. C 程序运行步骤是编辑、编译、连接、执行。
   B. C 语言的变量名必须用小写，常量用大写。
   C. C 语言的三种基本结构是顺序、选择、循环。
   D. C 程序一定由函数构成的。

5. 以下代码执行结果为：(A)

   ```php
    <?php 
    $num ="24linux"+6;
    echo $num;
   ```

   A. 30	B. 24linux6 	C. 6 	D. 30linux

6. 以下代码运行结果为？(C)

   ```php
   <?php
   echo '1'.print(2)+3;
   ```

   A. 1	B. 23	C. 511	D. 15

7. 有如下代码片断，下面描述正确的是？(C)

   ```php
   $i = 10;
   while($i == 0){ 
   	$i = $i - 1; 
   }
   ```

   A. while 循环执行 10 次	
   B. 死循环，将一直执行下去	
   C. 循环一次也不执行 	
   D. 循环将执行 1 次 20

8. 以下对PHP命名空间的说法，不对的是：B
   A. 访问任意全局类、函数或常量，都可以使用完全限定名称，例如 `\strlen()` 或 `\Exception` 或 `\INI_ALL`。
   B. 关键字 `namespace` 可用来显式访问当前命名空间或子命名空间中的元素，它等价于类中的 `this` 操作符。
   C. 任意合法的PHP代码都可以包含在命名空间中，但只有三种类型的代码受命名空间的影响，它们是：**类，函数**和**常量**。
   D. 常量 `NAMESPACE` 的值是当前命名空间名称的字符串。在全局的，不包括在任何命名空间中的代码，它就是一个空字符串。

   > namespace 是声明命名空间的,不是用于访问的

9. 关于 JavaScript 的说法，不正确的是：A
     A. 语句 "alert(1==true);" 和语句 "alert(2==true);" 的结果都是 true。
     B. JS 的数组其实就是对象，用 `for...in` 语句可以遍历数组的所有属性。
     C. JS 中的对象通过引用来传递，它们永远不会被复制。
     D. JS 中的函数就是对象，所以它们可以像任何其他的值一样被使用。

   > alert(2==true) 是 false

10. 下列有关数据结构的说法，不正确的是：A
    A. 直接选择、二分法、冒泡、基数等排序方法都是稳定的排序方法。
    B. 5000个无序的元素，希望用最快的速度挑选出其中前50个最大的元素，最好选用堆排序。
    C. 栈和队列都只允许在端点处插入和删除元素。
    D. 深度优先遍历是一个递归算法，在遍历的过程中，先访问的点被压入栈底。

    > 不稳定：简单选择排序，希尔排序，快速排序，堆排序，冒泡
    > 稳定：直接插入排序，归并排序，基数排序

## 设计

> 20分

海量日志数据，提取出某日访问百度次数最多的那个IP。

> 算法思想：分而治之+Hash
>
> 1. IP地址最多有2^32=4G种取值情况，所以不能完全加载到内存中处理； 
> 2. 可以考虑采用“分而治之”的思想，按照IP地址的Hash(IP)%1024值，把海量IP日志分别存储到1024个小文件中。这样，每个小文件最多包含4MB个IP地址； 
> 3. 对于每一个小文件，可以构建一个IP为key，出现次数为value的Hash map，同时记录当前出现次数最多的那个IP地址；
> 4. 可以得到1024个小文件中的出现次数最多的IP，再依据常规的排序算法得到总体上出现次数最多的IP；




mysql索引
> 最左前缀是能用上索引的。mysql会一直向右匹配直到遇到范围查询(>、<、between、like)就停止匹配，比如a = 1 and b = 2 and c > 3 and d = 4 如果建立(a,b,c,d)顺序的索引，d是用不到索引的，如果建立(a,b,d,c)的索引则都可以用到，a,b,d的顺序可以任意调整。
> =和in可以乱序，比如a = 1 and b = 2 and c = 3 建立(a,b,c)索引可以任意顺序，mysql的查询优化器会帮你优化成索引可以识别的形式
> 尽量选择区分度高的列作为索引,区分度的公式是count(distinct col)/count(*)，表示字段不重复的比例，比例越大我们扫描的记录数越少，唯一键的区分度是1，而一些状态、性别字段可能在大数据面前区分度就是0.
> 索引列不能参与计算，保持列“干净”，比如from_unixtime(create_time) = ’2014-05-29’就不能使用到索引，原因很简单，b+树中存的都是数据表中的字段值，但进行检索时，需要把所有元素都应用函数才能比较，显然成本太大。所以语句应该写成create_time = unix_timestamp(’2014-05-29’);
> 尽量的扩展索引，不要新建索引。比如表中已经有a的索引，现在要加(a,b)的索引，那么只需要修改原来的索引即可.

慢查询优化基本步骤
0.先运行看看是否真的很慢，注意设置SQL_NO_CACHE
1.where条件单表查，锁定最小返回记录表。这句话的意思是把查询语句的where都应用到表中返回的记录数最小的表开始查起，单表每个字段分别查询，看哪个字段的区分度最高
2.explain查看执行计划，是否与1预期一致（从锁定记录较少的表开始查询）
3.order by limit 形式的sql语句让排序的表优先查
4.了解业务方使用场景
5.加索引时参照建索引的几大原则
6.观察结果，不符合预期继续从0分析



mysql的存储引擎，以及他们之间的区别
> InnoDB引擎、MyISAM引擎、MEMORY引擎、BLACKHOLE引擎、FEDERATED引擎、ARCHIVE引擎
> MyISAM管理非事务表。它提供高速存储和检索，以及全文搜索能力。MyISAM在所有MySQL配置里被支持，它是默认的存储引擎，除非你配置MySQL默认使用另外一个引擎。
>  MEMORY存储引擎提供“内存中”表。MERGE存储引擎允许集合将被处理同样的MyISAM表作为一个单独的表。就像MyISAM一样，MEMORY和MERGE存储引擎处理非事务表，这两个引擎也都被默认包含在MySQL中。
> InnoDB和BDB存储引擎提供事务安全表。BDB被包含在为支持它的操作系统发布的MySQL-Max二进制分发版里。InnoDB也默认被包括在所 有MySQL 5.1二进制分发版里，你可以按照喜好通过配置MySQL来允许或禁止任一引擎。
>  EXAMPLE存储引擎是一个“存根”引擎，它不做什么。你可以用这个引擎创建表，但没有数据被存储于其中或从其中检索。这个引擎的目的是服务，在 MySQL源代码中的一个例子，它演示说明如何开始编写新存储引擎。
> ARCHIVE存储引擎被用来无索引地，非常小地覆盖存储的大量数据。
> CSV存储引擎把数据以逗号分隔的格式存储在文本文件中。
> FEDERATED存储引擎把数据存在远程数据库中。
> 
> 区别：
> 一、InnoDB支持事务，MyISAM不支持，这一点是非常之重要。事务是一种高级的处理方式，如在一些列增删改中只要哪个出错还可以回滚还原，而MyISAM就不可以了。
> 二、MyISAM适合查询以及插入为主的应用，InnoDB适合频繁修改以及涉及到安全性较高的应用
> 三、InnoDB支持外键，MyISAM不支持
> 四、MyISAM是默认引擎，InnoDB需要指定
> 五、InnoDB不支持FULLTEXT类型的索引
> 六、InnoDB中不保存表的行数，如select count(*) from table时，InnoDB需要扫描一遍整个表来计算有多少行，但是MyISAM只要简单的读出保存好的行数即可。注意的是，当count(*)语句包含where条件时MyISAM也需要扫描整个表
> 七、对于自增长的字段，InnoDB中必须包含只有该字段的索引，但是在MyISAM表中可以和其他字段一起建立联合索引
> 八、清空整个表时，InnoDB是一行一行的删除，效率非常慢。MyISAM则会重建表
> 九、InnoDB支持行锁（某些情况下还是锁整表，如 update table set a=1 where user like '%lee%'



sql优化



关联表的查询
Select person.name, ord_xx.name from person join ord_xx on person.id = ord_xx.p_id;
mysql不支持full join

cURL请求处理方式

```php
<?php
//cURL的具体实现方法
$url = "http://www.php.net/";
//1初始化
$ch = curl_init();
//2设置选项,包括URL
curl_setopt($ch,CURLOPT_URL,$url);
curl_setopt($ch,CURLOPT_RETURNTRANSFER,1);   //将curl_exec()获取的信息以文件流的形式返回
                                              //而不是输出
                                              //启用时将头文件的信息作为数据流输出
curl_setopt($ch,CURLOPT_HEADER,1);
//3执行并获取内容
$output = curl_exec($ch);
//4释放cURL句柄
curl_close($ch);
echo $output;

```

PHP实现字符串的翻转（不能使用自带的函数）
> PHP自带的函数是strrev()
> 不用自带的函数：

```php
<?php
function my_strrev($string)
{
   $len=strlen($string);
   $new_str='';
    
   for($i=$len;$i>=0;$i--)
   {
   	$new_str.=$string[$i];  
   }
   return $new_str;
}
$mystr="happy new year";
echo my_strrev($mystr);
?>
```

isset()检测变量是否设置
unset()

session和Cookie的区别，多台web服务器怎么共享SESSION？
> cookie在客户端保存状态，session在服务器端保存状态。但是由于在服务器端保存状态的时候，在客户端也需要一个标识，所以session也可能要借助cookie来实现保存标识位的作用。
cookie包括名字，值，域，路径，过期时间。路径和域构成cookie的作用范围。cookie如果不设置过期时间，则这个cookie在浏览器进程 存在时有效，关闭时销毁。如果设置了过期时间，则cookie存储在本地硬盘上，在各浏览器进程间可以共享。
session存储在服务器端，服务器用一种散列表类型的结构存储信息。当一个连接建立的时候，服务器首先搜索有没有存储的session id，如果没有，则建立一个新的session，将session id返回给客户端，客户端可以选择使用cookie来存储session id。也可以用其他的方法，比如服务器端将session id附在URL上。
区别：

(1).cookie在本地，session在服务器端。
(2).cookie不安全，容易被欺骗，session相对安全。
(3).session在服务器端，访问多了会影响服务器性能。
(4). cookie有大小限制，为3K
多服务器共享session可以尝试将session存储在memcache中。



PHP中的传引用、传值、传地址
> 传值：把实参的值赋值给行参,相当于复制一块同样的空间.那么对行参的修改，不会影响实参的值。
> 传引用：真正的以地址的方式传递参数，传递以后，行参和实参都是同一个对象，只是他们名字不同而已对行参的修改将影响实参的值。
> 传地址：是传值的一种特殊方式，只是他传递的是地址，不是普通的如int，那么传地址以后，实参和行参都指向同一个对象。

PHP的"=="（等于）与"==="（全等）
> var_dump(0 == false);//true
> var_dump(0 === false); //false

从一个数组取出第一个元素有几种方式:
> reset();
> current();


PHP中单引号和双引号的区别:
> 如果一个字符串由双引号开始，那么只有双引号被分析器解析。这样，你就可以在双引号串中包含任何其他字符，甚至单引号。(也就是说单引号是原样打印)
> 串 "Why doesn't "this" work?" 则会被分为三段。如果在这个串中想要表示出双引号，则可以使用转义符"\"（反斜线），变成 "Why doesn't \"this\" work?" 即可。
> 双引号串中的内容可以被解释而且替换，而单引号串中的内容总被认为是普通字符。
> 将复杂变量用花括号括起来，语法分析器就能正确辨认了: echo "value = {$a[$i][$j]}" //打印二维数组$a的某个元素.
 


库函数中的strcp是怎么实现的？使用自己的方法实现字符串的复制？
```c
#include<string.h> 
#include<stdio.h> 
int main(void) 
{ 
	char s1[100],s2[100]; 
	int i,str; 
	str=strlen(s1);/*求字符串长度*/
	for(i=0;i<str;i++) 
		s2[i]=s1[i]; 
	for(i=0;i<str;i++) 
		printf("%c",s2[i]); 
} 
```

数据结构都有哪些结构？堆栈，队列，树，图……



实现一个双向链表，给出删除、添加的操作。
> 双链表结点中有两个指针prior和next，分别指向其前驱结点和后继结点.

```c
typedef struct DNode {  //定义双链表结点类型
    ElemType data;  //数据域
    struct DNode *prior, *next;  //前驱和后继指针
}DNode, *DLinklist;
```

10W人员工，按年龄排序，怎么排序？



mysql里面用到的是哪种的数据结构。
> B+ tree
> 



线程和进程的区别
> 简而言之,一个程序至少有一个进程,一个进程至少有一个线程.
> 线程的划分尺度小于进程，使得多线程程序的并发性高。
> 进程在执行过程中拥有独立的内存单元，而多个线程共享内存，从而极大地提高了程序的运行效率。
> 每个独立的线程有一个程序运行的入口、顺序执行序列和程序的出口。但是线程不能够独立执行，必须依存在应用程序中，由应用程序提供多个线程执行控制。
> 从逻辑角度来看，多线程的意义在于一个应用程序中，有多个执行部分可以同时执行。但操作系统并没有将多个线程看做多个独立的应用，来实现进程的调度和管理以及资源分配。这就是进程和线程的重要区别。



C中的指针和引用


面向对象编程的封装、继承和多态
> 1、面向对象是一种基于结构分析的、以数据为中心的程序设计思想。面向过程语言是一种基于功能分析的、以算法为中心的程序设计方法。
> 2、封装就是隐藏对象实现的细节，在外界通过公共的方法来访问。比如，在C语言中，我们需要关注每一个细节、过程，在面向对象的程序语言中，我们就不用关注每个对象的细节，只要关注功能的实现就行，根据提供好的接口，然后面向接口编程。
> 3、继承就是子类能够继承父类的公共属性和方法，无法继承父类的私有属性和方法。在java|C#|PHP等面向对象语言中，是不允许多重继承的【php trait是个例外】，但可以多层继承。
> 4、多态，就是同一个接口，对不同的实例而执行不同的操作。同属一个基类的不同派生类也可以有自己不同于其他类的属性和方法。



tcp/udp的区别:
> TCP的目的是提供可靠的数据传输，并在相互进行通信的设备或服务之间保持一个虚拟连接。
> TCP是面向连接的，而UDP是面向非连接的。
> TCP适合传输大量数据，而UDP适合少量数据。
> TCP速度快，UDP速度慢。
>  TCP协议负载较高，采用虚电路；UDP采用无连接。

HTTP的状态码
> 200——成功
> 204——请求成功，但没有资源返回
> 206——进行了范围请求
> 
> 301——永久性重定向
> 302——临时重定向
> 303——请求资源已经有了新的URI
> 304——请求访问的资源没有改动（但跟重定向没有关系）
> 307——临时重定向
> 
> 400——请求报文中存在语法错误
> 401——请求需要有通过HTTP认证
> 403——请求访问资源被拒绝了
> 404——没有找到
> 
> 500——服务端执行请求错误
> 503——服务器暂时处于超负载或者正在维护的状态


三次握手，四次挥手的状态分析




socket的编程熟悉吗？


Linux：
读取文件的最后100行，并复制到的新的文件中 tail -n 100 >>bbb.txt    echo 123 >> ttt.txt     【-c是统计字节数】
删除某个文件夹所有内容，要求删除后停止1秒！rm -r -f ./ &&  sleep 1
找出某个路径下的PHP的所有文件   find 路径 -f | grep php









